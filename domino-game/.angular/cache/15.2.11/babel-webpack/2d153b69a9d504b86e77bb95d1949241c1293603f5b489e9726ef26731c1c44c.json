{"ast":null,"code":"import { transferArrayItem } from '@angular/cdk/drag-drop';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/cdk/drag-drop\";\nfunction AppComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵlistener(\"cdkDragStarted\", function AppComponent_div_12_Template_div_cdkDragStarted_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.dragStarted($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"cdkDragData\", item_r4.piece);\n  }\n}\nfunction AppComponent_div_15_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction AppComponent_div_15_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"transform\": a0,\n    \"margin\": a1\n  };\n};\nconst _c1 = function () {\n  return [];\n};\nconst _c2 = function (a0, a1) {\n  return {\n    \"rotate-left\": a0,\n    \"rotate-right\": a1\n  };\n};\nfunction AppComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17);\n    i0.ɵɵtemplate(2, AppComponent_div_15_ng_container_2_Template, 2, 0, \"ng-container\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 19);\n    i0.ɵɵelementStart(4, \"div\", 20);\n    i0.ɵɵtemplate(5, AppComponent_div_15_ng_container_5_Template, 2, 0, \"ng-container\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    const i_r8 = ctx.index;\n    i0.ɵɵproperty(\"id\", \"piece_\" + i_r8)(\"cdkDragData\", item_r7.piece)(\"ngStyle\", i0.ɵɵpureFunction2(7, _c0, \"rotate(\" + item_r7.rotation + \"deg)\", +item_r7.margin + \"px\"))(\"cdkDragDisabled\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(10, _c1).constructor(item_r7.piece[0]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(11, _c2, item_r7.orientation === \"left\", item_r7.orientation === \"right\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(14, _c1).constructor(item_r7.piece[1]));\n  }\n}\nfunction AppComponent_div_19_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction AppComponent_div_19_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction AppComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵlistener(\"cdkDragStarted\", function AppComponent_div_19_Template_div_cdkDragStarted_0_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.dragStarted($event));\n    });\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵtemplate(2, AppComponent_div_19_ng_container_2_Template, 2, 0, \"ng-container\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 22);\n    i0.ɵɵelementStart(4, \"div\", 20);\n    i0.ɵɵtemplate(5, AppComponent_div_19_ng_container_5_Template, 2, 0, \"ng-container\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"cdkDragData\", item_r13.piece);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(3, _c1).constructor(item_r13.piece[0]));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(4, _c1).constructor(item_r13.piece[1]));\n  }\n}\nconst _c3 = function (a0) {\n  return [a0];\n};\nexport class AppComponent {\n  constructor() {\n    this.title = 'domino-game';\n    this.player1 = [];\n    this.player2 = [];\n    this.peca = [];\n    this.playAreaData = [];\n    this.done = [];\n    this.horizontalPiece = false;\n    this.draggedPieceIndex = null;\n    this.message = '';\n  }\n  generateDominoPieces() {\n    const pieces = [];\n    for (let i = 0; i <= 6; i++) {\n      for (let j = i; j <= 6; j++) {\n        pieces.push([i, j]);\n      }\n    }\n    return pieces;\n  }\n  ngOnInit() {\n    const allPieces = this.generateDominoPieces();\n    const numPiecesPerPlayer = 7;\n    const {\n      player1,\n      player2,\n      buy\n    } = this.distributePieces(allPieces, numPiecesPerPlayer);\n    const playArea = document.querySelector('.play-area');\n    if (playArea) {\n      playArea.addEventListener('scroll', () => {\n        this.handlePiecePositioning();\n      });\n    }\n    this.player1 = player1;\n    this.player2 = player2;\n    this.playAreaData = buy;\n  }\n  distributePieces(allPieces, numPieces) {\n    const shuffledPieces = allPieces.sort(() => Math.random() - 0.5);\n    const player1 = [];\n    const player2 = [];\n    const buy = [];\n    const player1Counts = new Map();\n    const player2Counts = new Map();\n    for (const piece of shuffledPieces) {\n      const [left, right] = piece;\n      // Verifica se algum jogador já possui mais de 5 peças com o mesmo número\n      if ((player1Counts.get(left) ?? 0) >= 5 || (player1Counts.get(right) ?? 0) >= 5) {\n        buy.push(piece);\n      } else if ((player2Counts.get(left) ?? 0) >= 5 || (player2Counts.get(right) ?? 0) >= 5) {\n        buy.push(piece);\n      } else {\n        // Distribui a peça para o jogador 1 se ele ainda não atingiu o limite\n        if (player1.length < numPieces) {\n          player1.push({\n            piece,\n            rotation: 0,\n            margin: 8,\n            orientation: ''\n          });\n          player1Counts.set(left, (player1Counts.get(left) ?? 0) + 1);\n          player1Counts.set(right, (player1Counts.get(right) ?? 0) + 1);\n        }\n        // Distribui a peça para o jogador 2 se ele ainda não atingiu o limite\n        else if (player2.length < numPieces) {\n          player2.push({\n            piece,\n            rotation: 0,\n            margin: 8,\n            orientation: ''\n          });\n          player2Counts.set(left, (player2Counts.get(left) ?? 0) + 1);\n          player2Counts.set(right, (player2Counts.get(right) ?? 0) + 1);\n        }\n        // Adiciona a peça à pilha de compra caso ambos os jogadores já tenham atingido o limite\n        else {\n          buy.push(piece);\n        }\n      }\n    }\n    return {\n      player1,\n      player2,\n      buy\n    };\n  }\n  drop(event) {\n    const targetIndex = event.currentIndex;\n    const droppedItem = event.previousContainer.data[event.previousIndex];\n    const targetPiece = this.done.length > 0 ? this.done[0] : null; // Peça adjacente à direita\n    const pieceFreeLeft = this.done && this.done.length > 0 ? {\n      piece: this.done[0].piece,\n      orientation: this.done[0].orientation\n    } : null;\n    const pieceFreeRight = this.done && this.done.length > 0 ? {\n      piece: this.done[this.done.length - 1].piece,\n      orientation: this.done[this.done.length - 1].orientation\n    } : null;\n    const droppedLeftSide = droppedItem.piece[0];\n    const droppedRightSide = droppedItem.piece[1];\n    console.log(pieceFreeLeft);\n    console.log(pieceFreeRight);\n    //se a mesa possuir peças\n    if (targetPiece) {\n      //AQUI SÃO VALIDAÇÃO DA EXTREMIDADE ESQUERDA\n      //se o lado de cima da peça jogada for igual ao lado de cima da peça que está na extremidade esquerda da mesa\n      if (pieceFreeLeft && pieceFreeRight && droppedLeftSide === pieceFreeLeft.piece[0] && (pieceFreeLeft.orientation === 'left' || pieceFreeLeft.orientation === '')) {\n        //se a peça da extremidade estiver rotacionada pra esquerda\n        if (droppedLeftSide === droppedRightSide) {\n          droppedItem.rotation = 0;\n          droppedItem.orientation = '';\n          droppedItem.margin = 4;\n        } else {\n          droppedItem.rotation = 90;\n          droppedItem.orientation = 'right';\n          droppedItem.margin = 15;\n        }\n        let index = 0;\n        transferArrayItem(event.previousContainer.data,\n        //mão do jogador\n        event.container.data,\n        //mesa\n        event.previousIndex,\n        //indice origem \n        index //indice destino \n        );\n      } else if (pieceFreeLeft && pieceFreeRight && droppedRightSide === pieceFreeLeft.piece[0] && (pieceFreeLeft.orientation === 'left' || pieceFreeLeft.orientation === '')) {\n        if (droppedLeftSide === droppedRightSide) {\n          droppedItem.rotation = 0;\n          droppedItem.orientation = '';\n          droppedItem.margin = 4;\n        } else {\n          droppedItem.rotation = -90;\n          droppedItem.orientation = 'left';\n          droppedItem.margin = 15;\n        }\n        let index = 0;\n        transferArrayItem(event.previousContainer.data,\n        //mão do jogador\n        event.container.data,\n        //mesa\n        event.previousIndex,\n        //indice origem \n        index //indice destino \n        );\n      } else if (pieceFreeLeft && pieceFreeRight && droppedLeftSide === pieceFreeLeft.piece[1] && (pieceFreeLeft.orientation === 'right' || pieceFreeLeft.orientation === '')) {\n        if (droppedLeftSide === droppedRightSide) {\n          droppedItem.rotation = 0;\n          droppedItem.orientation = '';\n          droppedItem.margin = 4;\n        } else {\n          droppedItem.rotation = 90;\n          droppedItem.orientation = 'right';\n          droppedItem.margin = 15;\n        }\n        let index = 0;\n        transferArrayItem(event.previousContainer.data,\n        //mão do jogador\n        event.container.data,\n        //mesa\n        event.previousIndex,\n        //indice origem \n        index //indice destino \n        );\n      } else if (pieceFreeLeft && pieceFreeRight && droppedRightSide === pieceFreeLeft.piece[1] && (pieceFreeLeft.orientation === 'right' || pieceFreeLeft.orientation === '')) {\n        if (droppedLeftSide === droppedRightSide) {\n          droppedItem.rotation = 0;\n          droppedItem.orientation = '';\n          droppedItem.margin = 4;\n        } else {\n          droppedItem.rotation = -90;\n          droppedItem.orientation = 'left';\n          droppedItem.margin = 15;\n        }\n        let index = 0;\n        transferArrayItem(event.previousContainer.data,\n        //mão do jogador\n        event.container.data,\n        //mesa\n        event.previousIndex,\n        //indice origem \n        index //indice destino \n        );\n        //AQUI SÃO VALIDAÇÃO DA EXTREMIDADE DIREITA\n      } else if (pieceFreeLeft && pieceFreeRight && droppedLeftSide === pieceFreeRight.piece[0] && (pieceFreeRight.orientation === 'right' || pieceFreeRight.orientation === '')) {\n        if (droppedLeftSide === droppedRightSide) {\n          droppedItem.rotation = 0;\n          droppedItem.orientation = '';\n          droppedItem.margin = 4;\n        } else {\n          droppedItem.rotation = -90;\n          droppedItem.orientation = 'left';\n          droppedItem.margin = 15;\n        }\n        let index = this.done.length;\n        transferArrayItem(event.previousContainer.data,\n        //mão do jogador\n        event.container.data,\n        //mesa\n        event.previousIndex,\n        //indice origem \n        index //indice destino \n        );\n      } else if (pieceFreeLeft && pieceFreeRight && droppedRightSide === pieceFreeRight.piece[0] && (pieceFreeRight.orientation === 'right' || pieceFreeRight.orientation === '')) {\n        if (droppedLeftSide === droppedRightSide) {\n          droppedItem.rotation = 0;\n          droppedItem.orientation = '';\n          droppedItem.margin = 4;\n        } else {\n          droppedItem.rotation = 90;\n          droppedItem.orientation = 'right';\n          droppedItem.margin = 15;\n        }\n        let index = this.done.length;\n        transferArrayItem(event.previousContainer.data,\n        //mão do jogador\n        event.container.data,\n        //mesa\n        event.previousIndex,\n        //indice origem \n        index //indice destino \n        );\n      } else if (pieceFreeLeft && pieceFreeRight && droppedLeftSide === pieceFreeRight.piece[1] && (pieceFreeRight.orientation === 'left' || pieceFreeRight.orientation === '')) {\n        if (droppedLeftSide === droppedRightSide) {\n          droppedItem.rotation = 0;\n          droppedItem.orientation = '';\n          droppedItem.margin = 4;\n        } else {\n          droppedItem.rotation = -90;\n          droppedItem.orientation = 'left';\n          droppedItem.margin = 15;\n        }\n        let index = this.done.length;\n        transferArrayItem(event.previousContainer.data,\n        //mão do jogador\n        event.container.data,\n        //mesa\n        event.previousIndex,\n        //indice origem \n        index //indice destino \n        );\n      } else if (pieceFreeLeft && pieceFreeRight && droppedRightSide === pieceFreeRight.piece[1] && (pieceFreeRight.orientation === 'left' || pieceFreeRight.orientation === '')) {\n        if (droppedLeftSide === droppedRightSide) {\n          droppedItem.rotation = 0;\n          droppedItem.orientation = '';\n          droppedItem.margin = 4;\n        } else {\n          droppedItem.rotation = 90;\n          droppedItem.orientation = 'right';\n          droppedItem.margin = 15;\n        }\n        let index = this.done.length;\n        transferArrayItem(event.previousContainer.data,\n        //mão do jogador\n        event.container.data,\n        //mesa\n        event.previousIndex,\n        //indice origem \n        index //indice destino \n        );\n      } else {\n        this.message = \"Não é possível jogar esta peça nesta posição.\";\n        this.openModal();\n      }\n    } else if (this.done.length === 0) {\n      // Verifica se a mesa está vazia\n      // Deixa a peça deitada se tiver lados diferentes\n      if (droppedItem.piece[0] !== droppedItem.piece[1]) {\n        droppedItem.rotation = -90; //Left\n        droppedItem.orientation = 'left';\n        droppedItem.margin = 15;\n      } else {\n        droppedItem.rotation = 0;\n        droppedItem.orientation = '';\n        droppedItem.margin = 4;\n      }\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, targetIndex);\n    }\n  }\n  comprarPeca() {\n    // Verifica se o jogador já possui alguma peça que pode ser jogada\n    const isFirstMove = this.done.length === 0;\n    const pieceFreeLeft = this.done && this.done.length > 0 ? {\n      piece: this.done[0].piece,\n      orientation: this.done[0].orientation\n    } : null;\n    const pieceFreeRight = this.done && this.done.length > 0 ? {\n      piece: this.done[this.done.length - 1].piece,\n      orientation: this.done[this.done.length - 1].orientation\n    } : null;\n    let valorDisponivelLeft = 0;\n    let valorDisponivelRight = 0;\n    if (isFirstMove) {\n      this.message = 'Você não pode comprar uma peça na primeira jogada. Jogue uma peça da sua mão primeiro.';\n      this.openModal();\n      return; // Sai da função sem comprar uma peça\n    }\n\n    if (pieceFreeLeft && pieceFreeLeft.orientation === 'left') {\n      valorDisponivelLeft = pieceFreeLeft.piece[0];\n    } else if (pieceFreeLeft && pieceFreeLeft.orientation === 'right') {\n      valorDisponivelLeft = pieceFreeLeft.piece[1];\n    }\n    if (pieceFreeRight && pieceFreeRight.orientation === 'left') {\n      valorDisponivelRight = pieceFreeRight.piece[1];\n    } else if (pieceFreeRight && pieceFreeRight.orientation === 'right') {\n      valorDisponivelRight = pieceFreeRight.piece[0];\n    }\n    // Verifica se existem peças possíveis para jogar\n    const hasPossiblePieces = this.player2.some(piece => {\n      const [left, right] = piece.piece;\n      return left === valorDisponivelLeft || left === valorDisponivelRight || right === valorDisponivelLeft || right === valorDisponivelRight;\n    });\n    if (hasPossiblePieces) {\n      this.message = 'Não é possível comprar uma peça. Existem peças possíveis para jogar.';\n      this.openModal();\n    } else {\n      // Compra a peça\n      const newPiece = this.playAreaData.pop();\n      if (newPiece) {\n        this.player2.push({\n          piece: newPiece,\n          rotation: 0,\n          margin: 8,\n          orientation: ''\n        });\n      }\n    }\n  }\n  closeModal() {\n    let modal = document.getElementById(\"modal\");\n    if (modal) {\n      modal.style.display = \"none\"; // Oculta o modal\n    }\n  }\n\n  openModal() {\n    let modal = document.getElementById(\"modal\");\n    if (modal) {\n      modal.style.display = \"block\"; // Mostra o Modal\n    }\n  }\n\n  dragStarted(event) {\n    const draggedPieceId = event.source.element.nativeElement.id;\n    this.draggedPieceIndex = parseInt(draggedPieceId.split('_')[1]);\n  }\n  handlePiecePositioning() {\n    // Obtenha a largura da mesa e a posição atual de rolagem\n    const playArea = document.querySelector('.play-area');\n    const playAreaWidth = playArea?.clientWidth;\n    const scrollLeft = playArea?.scrollLeft;\n    // Verifique a posição de cada peça na área de jogo\n    const pieces = document.querySelectorAll('.domino-piece');\n    pieces.forEach(piece => {\n      const rect = piece.getBoundingClientRect();\n      const pieceLeft = rect.left - playArea.getBoundingClientRect().left + scrollLeft;\n      const pieceRight = pieceLeft + rect.width;\n      // Se a peça estiver muito próxima da borda da mesa\n      if (pieceRight >= playAreaWidth - 10) {\n        // Ajuste o valor 10 conforme necessário\n        // Rotacione a peça verticalmente e ajuste sua posição\n        piece.style.transform = 'rotate(90deg)';\n        piece.style.position = 'relative';\n        piece.style.top = '-20px'; // Ajuste a posição vertical conforme necessário\n      } else {\n        // Restaure a rotação e a posição padrão da peça\n        piece.style.transform = 'rotate(0deg)';\n        piece.style.position = 'static';\n        piece.style.top = 'auto';\n      }\n    });\n  }\n  static #_ = this.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 27,\n    vars: 13,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"http-equiv\", \"X-UA-Compatible\", \"content\", \"IE=edge\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [1, \"game-area\"], [\"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 1, \"opponent-pieces\", 3, \"cdkDropListData\", \"cdkDropListConnectedTo\", \"cdkDropListDropped\"], [\"class\", \"domino-piece\", \"cdkDrag\", \"\", 3, \"cdkDragData\", \"cdkDragStarted\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 1, \"play-area\", 2, \"position\", \"relative\", 3, \"cdkDropListData\", \"cdkDropListDropped\"], [\"doneList\", \"cdkDropList\"], [\"class\", \"domino-piece\", \"cdkDrag\", \"\", 3, \"id\", \"cdkDragData\", \"ngStyle\", \"cdkDragDisabled\", 4, \"ngFor\", \"ngForOf\"], [1, \"buy-button\", 2, \"position\", \"absolute\", \"bottom\", \"0\", \"right\", \"0\", 3, \"click\"], [\"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 1, \"my-pieces\", 3, \"cdkDropListData\", \"cdkDropListConnectedTo\", \"cdkDropListDropped\"], [\"id\", \"modal\", 1, \"modal\"], [1, \"modal-content\"], [1, \"close\", 3, \"click\"], [\"cdkDrag\", \"\", 1, \"domino-piece\", 3, \"cdkDragData\", \"cdkDragStarted\"], [\"cdkDrag\", \"\", 1, \"domino-piece\", 3, \"id\", \"cdkDragData\", \"ngStyle\", \"cdkDragDisabled\"], [1, \"top-number\"], [4, \"ngFor\", \"ngForOf\"], [1, \"divider\", 3, \"ngClass\"], [1, \"bottom-number\"], [1, \"dot\"], [1, \"divider\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2)(4, \"meta\", 3);\n        i0.ɵɵelementStart(5, \"title\");\n        i0.ɵɵtext(6, \"Jogo de Domin\\u00F3\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"body\")(8, \"h1\");\n        i0.ɵɵtext(9, \"Domin\\u00F3 Game\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 4)(11, \"div\", 5);\n        i0.ɵɵlistener(\"cdkDropListDropped\", function AppComponent_Template_div_cdkDropListDropped_11_listener($event) {\n          return ctx.drop($event);\n        });\n        i0.ɵɵtemplate(12, AppComponent_div_12_Template, 1, 1, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 7, 8);\n        i0.ɵɵlistener(\"cdkDropListDropped\", function AppComponent_Template_div_cdkDropListDropped_13_listener($event) {\n          return ctx.drop($event);\n        });\n        i0.ɵɵtemplate(15, AppComponent_div_15_Template, 6, 15, \"div\", 9);\n        i0.ɵɵelementStart(16, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_16_listener() {\n          return ctx.comprarPeca();\n        });\n        i0.ɵɵtext(17, \"Comprar Pe\\u00E7a\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 11);\n        i0.ɵɵlistener(\"cdkDropListDropped\", function AppComponent_Template_div_cdkDropListDropped_18_listener($event) {\n          return ctx.drop($event);\n        });\n        i0.ɵɵtemplate(19, AppComponent_div_19_Template, 6, 5, \"div\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(20, \"footer\");\n        i0.ɵɵelementStart(21, \"div\", 12)(22, \"div\", 13)(23, \"span\", 14);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_span_click_23_listener() {\n          return ctx.closeModal();\n        });\n        i0.ɵɵtext(24, \"\\u00D7 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"p\");\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(14);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"cdkDropListData\", ctx.player1)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction1(9, _c3, _r1));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.player1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"cdkDropListData\", ctx.done);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.done);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"cdkDropListData\", ctx.player2)(\"cdkDropListConnectedTo\", i0.ɵɵpureFunction1(11, _c3, _r1));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.player2);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"\", ctx.message, \".\");\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgStyle, i2.CdkDropList, i2.CdkDrag],\n    styles: [\"body[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  min-height: 100vh;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  flex-direction: column;\\r\\n  background-color: #333;\\r\\n  font-family: Arial, Helvetica, sans-serif;\\r\\n  margin: 0;\\r\\n  padding: 20px;\\r\\n  overflow: hidden; \\r\\n}\\r\\n\\r\\nh1[_ngcontent-%COMP%] {\\r\\n  color: #FFF;\\r\\n}\\r\\n\\r\\n.game-area[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n  border: 1px solid white;\\r\\n  width: 100%;\\r\\n  height: 800px;\\r\\n  margin-top: 10px;\\r\\n  padding: 20px;\\r\\n}\\r\\n\\r\\n.opponent-pieces[_ngcontent-%COMP%], .my-pieces[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: 100px;\\r\\n  padding: 5px;\\r\\n  background-color: #888;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.opponent-pieces[_ngcontent-%COMP%]   .domino-piece[_ngcontent-%COMP%] {\\r\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 01.0); \\r\\n}\\r\\n\\r\\n\\r\\n.play-area[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  flex-grow: 1;\\r\\n  background-color: #555;\\r\\n  display: flex;\\r\\n  justify-content:center; \\r\\n  align-items: center;\\r\\n  overflow-x: auto; \\r\\n  overflow-y: hidden; \\r\\n  height: auto;\\r\\n  padding: 0 20px; \\r\\n}\\r\\n\\r\\n\\r\\n.domino-piece[_ngcontent-%COMP%] {\\r\\n  width: 70px;\\r\\n  height: 100px;\\r\\n  background-color: #fff;\\r\\n  border: 1px solid #000;\\r\\n  align-items: center;\\r\\n  justify-content: space-between;\\r\\n  box-sizing: border-box;\\r\\n  border-radius: 5px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\nfooter[_ngcontent-%COMP%] {\\r\\n  margin-top: 10px;\\r\\n  color: #FFF;\\r\\n}\\r\\n\\r\\n.top-number[_ngcontent-%COMP%], .bottom-number[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  flex-wrap: wrap; \\r\\n}\\r\\n\\r\\n.domino-piece[_ngcontent-%COMP%] {\\r\\n  width: 70px;\\r\\n  height: 100px;\\r\\n  background-color: #fff;\\r\\n  border: 1px solid #000;\\r\\n  align-items: center;\\r\\n  justify-content: space-between;\\r\\n  box-sizing: border-box;\\r\\n  border-radius: 5px;\\r\\n  margin: 0 5px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.buy-button[_ngcontent-%COMP%] {\\r\\n  background-color: #4CAF50;\\r\\n  border: none;\\r\\n  color: white;\\r\\n  padding: 15px 32px;\\r\\n  text-align: center;\\r\\n  text-decoration: none;\\r\\n  display: inline-block;\\r\\n  font-size: 16px;\\r\\n  margin: 4px 2px;\\r\\n  cursor: pointer;\\r\\n  margin: 10px;\\r\\n  border-radius: 5px;\\r\\n  transition: background-color 0.3s ease-in-out;\\r\\n}\\r\\n\\r\\n.buy-button[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #45a049;\\r\\n  transform: scale(1.05);\\r\\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\\r\\n}\\r\\n\\r\\n.top-number[_ngcontent-%COMP%], .bottom-number[_ngcontent-%COMP%] {\\r\\n  height: 49%; \\r\\n  align-items: center;\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  flex-wrap: wrap; \\r\\n  justify-content: center; \\r\\n}\\r\\n\\r\\n.dot[_ngcontent-%COMP%] {\\r\\n  width: 12px;\\r\\n  height: 12px;\\r\\n  border-radius: 50%;\\r\\n  background-color: #000;\\r\\n  margin: 4px; \\r\\n}\\r\\n\\r\\n.cdk-drag-preview[_ngcontent-%COMP%] {\\r\\n  box-sizing: border-box;\\r\\n  border-radius: 4px;\\r\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\\r\\n              0 8px 10px 1px rgba(0, 0, 0, 0.14),\\r\\n              0 3px 14px 2px rgba(0, 0, 0, 0.12);\\r\\n}\\r\\n\\r\\n.cdk-drag-placeholder[_ngcontent-%COMP%] {\\r\\n  opacity: 0;\\r\\n}\\r\\n\\r\\n.cdk-drag-animating[_ngcontent-%COMP%] {\\r\\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\r\\n}\\r\\n\\r\\n.domino-piece[_ngcontent-%COMP%]:last-child {\\r\\n  border: none;\\r\\n}\\r\\n\\r\\n.opponent-pieces.cdk-drop-list-dragging[_ngcontent-%COMP%]   .domino-piece[_ngcontent-%COMP%]:not(.cdk-drag-placeholder), .my-pieces.cdk-drop-list-dragging[_ngcontent-%COMP%]   .domino-piece[_ngcontent-%COMP%]:not(.cdk-drag-placeholder) {\\r\\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\r\\n}\\r\\n\\r\\n\\r\\n.modal[_ngcontent-%COMP%] {\\r\\n  display: none; \\r\\n  position: fixed; \\r\\n  z-index: 1; \\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  background-color: rgba(0, 0, 0, 0.5); \\r\\n}\\r\\n\\r\\n.modal-content[_ngcontent-%COMP%] {\\r\\n  background-color: #fefefe; \\r\\n  margin: 20% auto; \\r\\n  padding: 50px;\\r\\n  border: 1px solid #888;\\r\\n  width: 30%; \\r\\n  border-radius: 5px;\\r\\n  text-align: center; \\r\\n  position: relative; \\r\\n}\\r\\n\\r\\n.close[_ngcontent-%COMP%] {\\r\\n  color: #aaa;\\r\\n  position: absolute; \\r\\n  top: 10px; \\r\\n  right: 10px; \\r\\n  font-size: 28px;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus {\\r\\n  color: black;\\r\\n  text-decoration: none;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.divider[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: 1px;\\r\\n  background-color: #000;\\r\\n  margin: 2px 0; \\r\\n  flex-grow: -1; \\r\\n}\\r\\n\\r\\n.rotate-left[_ngcontent-%COMP%] {\\r\\n  position: absolute;\\r\\n  top: 45%;\\r\\n  transform: translateY(-45%);\\r\\n}\\r\\n\\r\\n.rotate-right[_ngcontent-%COMP%] {\\r\\n  position: absolute;\\r\\n  top: 45%;\\r\\n  transform: translateY(-45%);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsc0JBQXNCO0VBQ3RCLHNCQUFzQjtFQUN0Qix5Q0FBeUM7RUFDekMsU0FBUztFQUNULGFBQWE7RUFDYixnQkFBZ0IsRUFBRSxvQ0FBb0M7QUFDeEQ7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLFdBQVc7RUFDWCxhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLGFBQWE7QUFDZjs7QUFFQTs7RUFFRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSx3Q0FBd0MsRUFBRSxrQ0FBa0M7QUFDOUU7OztBQUdBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLHNCQUFzQixFQUFFLGdDQUFnQztFQUN4RCxtQkFBbUI7RUFDbkIsZ0JBQWdCLEVBQUUsK0NBQStDO0VBQ2pFLGtCQUFrQixFQUFFLHVDQUF1QztFQUMzRCxZQUFZO0VBQ1osZUFBZSxFQUFFLDJFQUEyRTtBQUM5Rjs7O0FBR0E7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLDhCQUE4QjtFQUM5QixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7Ozs7QUFJQTtFQUNFLGdCQUFnQjtFQUNoQixXQUFXO0FBQ2I7O0FBRUE7O0VBRUUsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixlQUFlLEVBQUUseURBQXlEO0FBQzVFOztBQUVBO0VBQ0UsV0FBVztFQUNYLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQiw4QkFBOEI7RUFDOUIsc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsZUFBZTtBQUNqQjs7O0FBR0E7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtFQUNaLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixxQkFBcUI7RUFDckIsZUFBZTtFQUNmLGVBQWU7RUFDZixlQUFlO0VBQ2YsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQiw2Q0FBNkM7QUFDL0M7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsc0JBQXNCO0VBQ3RCLHNDQUFzQztBQUN4Qzs7QUFFQTs7RUFFRSxXQUFXLEVBQUUsdUNBQXVDO0VBQ3BELG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsYUFBYTtFQUNiLGVBQWUsRUFBRSx5REFBeUQ7RUFDMUUsdUJBQXVCLEVBQUUsMkNBQTJDO0FBQ3RFOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsc0JBQXNCO0VBQ3RCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixrQkFBa0I7RUFDbEI7O2dEQUU4QztBQUNoRDs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLHNEQUFzRDtBQUN4RDs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTs7RUFFRSxzREFBc0Q7QUFDeEQ7O0FBRUEscUJBQXFCO0FBQ3JCO0VBQ0UsYUFBYSxFQUFFLDhCQUE4QjtFQUM3QyxlQUFlLEVBQUUseUNBQXlDO0VBQzFELFVBQVUsRUFBRSxtQ0FBbUM7RUFDL0MsT0FBTztFQUNQLE1BQU07RUFDTixXQUFXO0VBQ1gsWUFBWTtFQUNaLG9DQUFvQyxFQUFFLDRCQUE0QjtBQUNwRTs7QUFFQTtFQUNFLHlCQUF5QixFQUFFLDBCQUEwQjtFQUNyRCxnQkFBZ0IsRUFBRSx1REFBdUQ7RUFDekUsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixVQUFVLEVBQUUscUJBQXFCO0VBQ2pDLGtCQUFrQjtFQUNsQixrQkFBa0IsRUFBRSx1QkFBdUI7RUFDM0Msa0JBQWtCLEVBQUUscUVBQXFFO0FBQzNGOztBQUVBO0VBQ0UsV0FBVztFQUNYLGtCQUFrQixFQUFFLHdEQUF3RDtFQUM1RSxTQUFTLEVBQUUsOEJBQThCO0VBQ3pDLFdBQVcsRUFBRSxpQ0FBaUM7RUFDOUMsZUFBZTtFQUNmLGlCQUFpQjtBQUNuQjs7QUFFQTs7RUFFRSxZQUFZO0VBQ1oscUJBQXFCO0VBQ3JCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsV0FBVztFQUNYLHNCQUFzQjtFQUN0QixhQUFhO0VBQ2IsYUFBYTtBQUNmOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLDJCQUEyQjtBQUM3Qjs7O0FBR0E7Ozs7Ozs7O0dBUUciLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAyMHB4O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47IC8qIFBhcmEgcmVtb3ZlciBhIGJhcnJhIGRlIHJvbGFnZW0gKi9cclxufVxyXG5cclxuaDEge1xyXG4gIGNvbG9yOiAjRkZGO1xyXG59XHJcblxyXG4uZ2FtZS1hcmVhIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiA4MDBweDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi5vcHBvbmVudC1waWVjZXMsXHJcbi5teS1waWVjZXMge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwcHg7XHJcbiAgcGFkZGluZzogNXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM4ODg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4ub3Bwb25lbnQtcGllY2VzIC5kb21pbm8tcGllY2Uge1xyXG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMDEuMCk7IC8qIEFkaWNpb25hIHNvbWJyZWFkbyBuYXMgYm9yZGFzICovXHJcbn1cclxuXHJcblxyXG4ucGxheS1hcmVhIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBmbGV4LWdyb3c6IDE7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDpjZW50ZXI7IC8qIEFsaW5oYXIgYXMgcGXDg8KnYXMgw4PCoCBlc3F1ZXJkYSAqL1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgb3ZlcmZsb3cteDogYXV0bzsgLyogU2VtcHJlIG1vc3RyYXIgYmFycmEgZGUgcm9sYWdlbSBob3Jpem9udGFsICovXHJcbiAgb3ZlcmZsb3cteTogaGlkZGVuOyAvKiBFc2NvbmRlciBiYXJyYSBkZSByb2xhZ2VtIHZlcnRpY2FsICovXHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIHBhZGRpbmc6IDAgMjBweDsgLyogQWRpY2lvbmFyIGVzcGHDg8KnbyBwYXJhIGV2aXRhciBxdWUgYXMgcGXDg8KnYXMgY2hlZ3VlbSBtdWl0byBwZXJ0byBkYSBib3JkYSAqL1xyXG59XHJcblxyXG5cclxuLmRvbWluby1waWVjZSB7XHJcbiAgd2lkdGg6IDcwcHg7XHJcbiAgaGVpZ2h0OiAxMDBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG5cclxuXHJcbmZvb3RlciB7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxuICBjb2xvcjogI0ZGRjtcclxufVxyXG5cclxuLnRvcC1udW1iZXIsXHJcbi5ib3R0b20tbnVtYmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGZsZXgtd3JhcDogd3JhcDsgLyogUGVybWl0ZSBxdWUgYXMgYm9saW5oYXMgcXVlYnJlbSBwYXJhIGEgcHLDg8KzeGltYSBsaW5oYSAqL1xyXG59XHJcblxyXG4uZG9taW5vLXBpZWNlIHtcclxuICB3aWR0aDogNzBweDtcclxuICBoZWlnaHQ6IDEwMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgIzAwMDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBtYXJnaW46IDAgNXB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuXHJcbi5idXktYnV0dG9uIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZzogMTVweCAzMnB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBtYXJnaW46IDRweCAycHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIG1hcmdpbjogMTBweDtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG4uYnV5LWJ1dHRvbjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQ1YTA0OTtcclxuICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xyXG4gIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xyXG59XHJcblxyXG4udG9wLW51bWJlcixcclxuLmJvdHRvbS1udW1iZXIge1xyXG4gIGhlaWdodDogNDklOyAvKiBBbHR1cmEgZGEgw4PCoXJlYSBkZSBuw4PCum1lcm9zIGluZmVyaW9yICovXHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB3aWR0aDogMTAwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDsgLyogUGVybWl0ZSBxdWUgYXMgYm9saW5oYXMgcXVlYnJlbSBwYXJhIGEgcHLDg8KzeGltYSBsaW5oYSAqL1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyOyAvKiBDZW50cmFsaXphIGFzIGJvbGluaGFzIGhvcml6b250YWxtZW50ZSAqL1xyXG59XHJcblxyXG4uZG90IHtcclxuICB3aWR0aDogMTJweDtcclxuICBoZWlnaHQ6IDEycHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XHJcbiAgbWFyZ2luOiA0cHg7IFxyXG59XHJcblxyXG4uY2RrLWRyYWctcHJldmlldyB7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgYm94LXNoYWRvdzogMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxyXG4gICAgICAgICAgICAgIDAgOHB4IDEwcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXHJcbiAgICAgICAgICAgICAgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxufVxyXG5cclxuLmNkay1kcmFnLXBsYWNlaG9sZGVyIHtcclxuICBvcGFjaXR5OiAwO1xyXG59XHJcblxyXG4uY2RrLWRyYWctYW5pbWF0aW5nIHtcclxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjUwbXMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSk7XHJcbn1cclxuXHJcbi5kb21pbm8tcGllY2U6bGFzdC1jaGlsZCB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG59XHJcblxyXG4ub3Bwb25lbnQtcGllY2VzLmNkay1kcm9wLWxpc3QtZHJhZ2dpbmcgLmRvbWluby1waWVjZTpub3QoLmNkay1kcmFnLXBsYWNlaG9sZGVyKSxcclxuLm15LXBpZWNlcy5jZGstZHJvcC1saXN0LWRyYWdnaW5nIC5kb21pbm8tcGllY2U6bm90KC5jZGstZHJhZy1wbGFjZWhvbGRlcikge1xyXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcclxufVxyXG5cclxuLyogRXN0aWxvcyBkbyBtb2RhbCAqL1xyXG4ubW9kYWwge1xyXG4gIGRpc3BsYXk6IG5vbmU7IC8qIE9jdWx0YSBvIG1vZGFsIHBvciBwYWRyw4PCo28gKi9cclxuICBwb3NpdGlvbjogZml4ZWQ7IC8qIFBvc2nDg8Knw4PCo28gZml4YSBwYXJhIGNvYnJpciB0b2RhIGEgdGVsYSAqL1xyXG4gIHotaW5kZXg6IDE7IC8qIERlZmluZSBhIG9yZGVtIGRlIGVtcGlsaGFtZW50byAqL1xyXG4gIGxlZnQ6IDA7XHJcbiAgdG9wOiAwO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7IC8qIEZ1bmRvIHNlbWktdHJhbnNwYXJlbnRlICovXHJcbn1cclxuXHJcbi5tb2RhbC1jb250ZW50IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVmZWZlOyAvKiBDb3IgZGUgZnVuZG8gZG8gbW9kYWwgKi9cclxuICBtYXJnaW46IDIwJSBhdXRvOyAvKiBDZW50cmFsaXphIHZlcnRpY2FsbWVudGUgZSBwb3NpY2lvbmEgYSAxNSUgZG8gdG9wbyAqL1xyXG4gIHBhZGRpbmc6IDUwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgIzg4ODtcclxuICB3aWR0aDogMzAlOyAvKiBMYXJndXJhIGRvIG1vZGFsICovXHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjsgLyogQ2VudHJhbGl6YSBvIHRleHRvICovXHJcbiAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBEZWZpbmUgcG9zacODwqfDg8KjbyByZWxhdGl2YSBwYXJhIG8gcG9zaWNpb25hbWVudG8gZG8gYm90w4PCo28gZGUgZmVjaGFyICovXHJcbn1cclxuXHJcbi5jbG9zZSB7XHJcbiAgY29sb3I6ICNhYWE7XHJcbiAgcG9zaXRpb246IGFic29sdXRlOyAvKiBQb3NpY2lvbmFtZW50byBhYnNvbHV0byBlbSByZWxhw4PCp8ODwqNvIGFvIG1vZGFsLWNvbnRlbnQgKi9cclxuICB0b3A6IDEwcHg7IC8qIERpc3TDg8KibmNpYSBkZSAxMHB4IGRvIHRvcG8gKi9cclxuICByaWdodDogMTBweDsgLyogRGlzdMODwqJuY2lhIGRlIDEwcHggZGEgZGlyZWl0YSAqL1xyXG4gIGZvbnQtc2l6ZTogMjhweDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuLmNsb3NlOmhvdmVyLFxyXG4uY2xvc2U6Zm9jdXMge1xyXG4gIGNvbG9yOiBibGFjaztcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uZGl2aWRlciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcclxuICBtYXJnaW46IDJweCAwOyBcclxuICBmbGV4LWdyb3c6IC0xOyBcclxufVxyXG5cclxuLnJvdGF0ZS1sZWZ0IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiA0NSU7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00NSUpO1xyXG59XHJcblxyXG4ucm90YXRlLXJpZ2h0IHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiA0NSU7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00NSUpO1xyXG59XHJcblxyXG5cclxuLyogLnJvdGF0ZS1sZWZ0IC5kaXZpZGVyIHtcclxuICB0b3A6IDUwJTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbn1cclxuXHJcbi5yb3RhdGUtcmlnaHQgLmRpdmlkZXIge1xyXG4gIGJvdHRvbTogNTAlO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg1MCUpO1xyXG59ICovXHJcblxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["transferArrayItem","i0","AppComponent","constructor","generateDominoPieces","pieces","i","j","push","ngOnInit","allPieces","numPiecesPerPlayer","player1","player2","buy","distributePieces","playArea","document","querySelector","addEventListener","handlePiecePositioning","playAreaData","numPieces","shuffledPieces","sort","Math","random","player1Counts","Map","player2Counts","piece","left","right","get","length","rotation","margin","orientation","set","drop","event","targetIndex","currentIndex","droppedItem","previousContainer","data","previousIndex","targetPiece","done","pieceFreeLeft","pieceFreeRight","droppedLeftSide","droppedRightSide","console","log","index","container","message","openModal","comprarPeca","isFirstMove","valorDisponivelLeft","valorDisponivelRight","hasPossiblePieces","some","newPiece","pop","closeModal","modal","getElementById","style","display","dragStarted","draggedPieceId","source","element","nativeElement","id","draggedPieceIndex","parseInt","split","playAreaWidth","clientWidth","scrollLeft","querySelectorAll","forEach","rect","getBoundingClientRect","pieceLeft","pieceRight","width","transform","position","top","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\ESTUDOS\\domino-game\\src\\app\\app.component.ts","C:\\ESTUDOS\\domino-game\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CdkDragDrop, CdkDragStart, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\r\n\r\ninterface DominoPiece {\r\n  piece: [number, number];\r\n  rotation: number; // Propriedade para controlar a rotação das peças\r\n  margin: number;\r\n  orientation: string;\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'domino-game';\r\n  player1: DominoPiece[] = [];\r\n  player2: DominoPiece[] = [];\r\n  peca: [number, number][] = [];\r\n  playAreaData: [number, number][] = [];\r\n  done: DominoPiece[] = [];\r\n  horizontalPiece = false;\r\n  draggedPieceIndex: number | null = null;\r\n  public message: string = '';\r\n\r\n  generateDominoPieces(): [number, number][] {\r\n    const pieces: [number, number][] = [];\r\n    for (let i = 0; i <= 6; i++) {\r\n      for (let j = i; j <= 6; j++) {\r\n        pieces.push([i, j]);\r\n      }\r\n    }\r\n    return pieces;\r\n  }\r\n\r\n  ngOnInit() {\r\n    const allPieces = this.generateDominoPieces();\r\n    const numPiecesPerPlayer = 7;\r\n    const { player1, player2, buy } = this.distributePieces(allPieces, numPiecesPerPlayer);\r\n    const playArea = document.querySelector('.play-area');\r\n    if (playArea) {\r\n      playArea.addEventListener('scroll', () => {\r\n        this.handlePiecePositioning();\r\n      });\r\n    }\r\n\r\n    this.player1 = player1;\r\n    this.player2 = player2;\r\n    this.playAreaData = buy;\r\n  }\r\n\r\n  distributePieces(allPieces: [number, number][], numPieces: number): { player1: DominoPiece[], player2: DominoPiece[], buy: [number, number][] } {\r\n    const shuffledPieces = allPieces.sort(() => Math.random() - 0.5);\r\n    const player1: DominoPiece[] = [];\r\n    const player2: DominoPiece[] = [];\r\n    const buy: [number, number][] = [];\r\n\r\n    const player1Counts = new Map<number, number>();\r\n    const player2Counts = new Map<number, number>();\r\n\r\n    for (const piece of shuffledPieces) {\r\n        const [left, right] = piece;\r\n\r\n        // Verifica se algum jogador já possui mais de 5 peças com o mesmo número\r\n        if ((player1Counts.get(left) ?? 0) >= 5 || (player1Counts.get(right) ?? 0) >= 5) {\r\n            buy.push(piece);\r\n        } else if ((player2Counts.get(left) ?? 0) >= 5 || (player2Counts.get(right) ?? 0) >= 5) {\r\n            buy.push(piece);\r\n        } else {\r\n            // Distribui a peça para o jogador 1 se ele ainda não atingiu o limite\r\n            if (player1.length < numPieces) {\r\n              player1.push({ piece,  rotation: 0, margin: 8, orientation: ''});\r\n              player1Counts.set(left, (player1Counts.get(left) ?? 0) + 1);\r\n              player1Counts.set(right, (player1Counts.get(right) ?? 0) + 1);\r\n            } \r\n            // Distribui a peça para o jogador 2 se ele ainda não atingiu o limite\r\n            else if (player2.length < numPieces) {\r\n              player2.push({ piece,  rotation: 0, margin: 8, orientation: ''});\r\n              player2Counts.set(left, (player2Counts.get(left) ?? 0) + 1);\r\n              player2Counts.set(right, (player2Counts.get(right) ?? 0) + 1);\r\n            } \r\n            // Adiciona a peça à pilha de compra caso ambos os jogadores já tenham atingido o limite\r\n            else {\r\n              buy.push(piece);\r\n            }\r\n        }\r\n    }\r\n\r\n    return { player1, player2, buy };\r\n  }\r\n\r\n\r\n  drop(event: CdkDragDrop<DominoPiece[]>) {\r\n    const targetIndex = event.currentIndex;\r\n    const droppedItem = event.previousContainer.data[event.previousIndex];\r\n    const targetPiece = this.done.length > 0 ? this.done[0] : null; // Peça adjacente à direita\r\n    const pieceFreeLeft = this.done && this.done.length > 0 ? { piece: this.done[0].piece, orientation: this.done[0].orientation } : null;\r\n    const pieceFreeRight = this.done && this.done.length > 0 ? { piece: this.done[this.done.length-1].piece, orientation:this.done[this.done.length-1].orientation } : null;\r\n    \r\n    const droppedLeftSide = droppedItem.piece[0];\r\n    const droppedRightSide = droppedItem.piece[1];\r\n\r\n    console.log(pieceFreeLeft)\r\n    console.log(pieceFreeRight)\r\n\r\n    //se a mesa possuir peças\r\n    if (targetPiece) {\r\n      //AQUI SÃO VALIDAÇÃO DA EXTREMIDADE ESQUERDA\r\n      //se o lado de cima da peça jogada for igual ao lado de cima da peça que está na extremidade esquerda da mesa\r\n      if ((pieceFreeLeft && pieceFreeRight) && (droppedLeftSide === pieceFreeLeft.piece[0]) && (pieceFreeLeft.orientation === 'left' || pieceFreeLeft.orientation === '')) {\r\n        //se a peça da extremidade estiver rotacionada pra esquerda\r\n        if (droppedLeftSide === droppedRightSide) {\r\n          droppedItem.rotation = 0;\r\n          droppedItem.orientation = '';\r\n          droppedItem.margin = 4;\r\n        }else {\r\n          droppedItem.rotation = 90;\r\n          droppedItem.orientation = 'right';\r\n          droppedItem.margin = 15;\r\n        }\r\n        let index = 0;\r\n        transferArrayItem(\r\n          event.previousContainer.data, //mão do jogador\r\n          event.container.data, //mesa\r\n          event.previousIndex, //indice origem \r\n          index //indice destino \r\n        );\r\n\r\n      }else if ((pieceFreeLeft && pieceFreeRight) && (droppedRightSide === pieceFreeLeft.piece[0]) && (pieceFreeLeft.orientation === 'left' || pieceFreeLeft.orientation === '')) {\r\n        if (droppedLeftSide === droppedRightSide) {\r\n          droppedItem.rotation = 0;\r\n          droppedItem.orientation = '';\r\n          droppedItem.margin = 4;\r\n        }else {\r\n          droppedItem.rotation = -90;\r\n          droppedItem.orientation = 'left';\r\n          droppedItem.margin = 15;\r\n        }\r\n        let index = 0;\r\n        transferArrayItem(\r\n          event.previousContainer.data, //mão do jogador\r\n          event.container.data, //mesa\r\n          event.previousIndex, //indice origem \r\n          index //indice destino \r\n        );\r\n      }else if  ((pieceFreeLeft && pieceFreeRight) && (droppedLeftSide === pieceFreeLeft.piece[1]) && (pieceFreeLeft.orientation === 'right' || pieceFreeLeft.orientation === '')) {\r\n        if (droppedLeftSide === droppedRightSide) {\r\n          droppedItem.rotation = 0;\r\n          droppedItem.orientation = '';\r\n          droppedItem.margin = 4;\r\n        }else {\r\n          droppedItem.rotation = 90;\r\n          droppedItem.orientation = 'right';\r\n          droppedItem.margin = 15;\r\n        \r\n        }\r\n        let index = 0;\r\n        transferArrayItem(\r\n          event.previousContainer.data, //mão do jogador\r\n          event.container.data, //mesa\r\n          event.previousIndex, //indice origem \r\n          index //indice destino \r\n        );\r\n\r\n      }else if  ((pieceFreeLeft && pieceFreeRight) && (droppedRightSide === pieceFreeLeft.piece[1]) && (pieceFreeLeft.orientation === 'right' || pieceFreeLeft.orientation === '')) {\r\n        if (droppedLeftSide === droppedRightSide) {\r\n          droppedItem.rotation = 0;\r\n          droppedItem.orientation = '';\r\n          droppedItem.margin = 4;\r\n        } else {\r\n          droppedItem.rotation = -90;\r\n          droppedItem.orientation = 'left';\r\n          droppedItem.margin = 15;\r\n        }\r\n        let index = 0;\r\n        transferArrayItem(\r\n          event.previousContainer.data, //mão do jogador\r\n          event.container.data, //mesa\r\n          event.previousIndex, //indice origem \r\n          index //indice destino \r\n        );\r\n\r\n      //AQUI SÃO VALIDAÇÃO DA EXTREMIDADE DIREITA\r\n      }else if ((pieceFreeLeft && pieceFreeRight) && (droppedLeftSide === pieceFreeRight.piece[0]) && (pieceFreeRight.orientation === 'right' || pieceFreeRight.orientation === '')) {\r\n        if (droppedLeftSide === droppedRightSide) {\r\n          droppedItem.rotation = 0;\r\n          droppedItem.orientation = '';\r\n          droppedItem.margin = 4;\r\n        }else {\r\n          droppedItem.rotation = -90;\r\n          droppedItem.orientation = 'left';\r\n          droppedItem.margin = 15;\r\n        }\r\n        let index = this.done.length;\r\n        transferArrayItem(\r\n          event.previousContainer.data, //mão do jogador\r\n          event.container.data, //mesa\r\n          event.previousIndex, //indice origem \r\n          index //indice destino \r\n        );\r\n      }else if ((pieceFreeLeft && pieceFreeRight) && (droppedRightSide === pieceFreeRight.piece[0]) && (pieceFreeRight.orientation === 'right' || pieceFreeRight.orientation === '')) {\r\n        if (droppedLeftSide === droppedRightSide) {\r\n          droppedItem.rotation = 0;\r\n          droppedItem.orientation = '';\r\n          droppedItem.margin = 4;\r\n        }else {\r\n          droppedItem.rotation = 90;\r\n          droppedItem.orientation = 'right';\r\n          droppedItem.margin = 15;\r\n        }\r\n        let index = this.done.length;\r\n        transferArrayItem(\r\n          event.previousContainer.data, //mão do jogador\r\n          event.container.data, //mesa\r\n          event.previousIndex, //indice origem \r\n          index //indice destino \r\n        );\r\n      }else if ((pieceFreeLeft && pieceFreeRight) && (droppedLeftSide === pieceFreeRight.piece[1]) && (pieceFreeRight.orientation === 'left' || pieceFreeRight.orientation === '')) {\r\n        if (droppedLeftSide === droppedRightSide) {\r\n          droppedItem.rotation = 0;\r\n          droppedItem.orientation = '';\r\n          droppedItem.margin = 4;\r\n        }else {\r\n          droppedItem.rotation = -90;\r\n          droppedItem.orientation = 'left';\r\n          droppedItem.margin = 15;\r\n        }\r\n        let index = this.done.length;\r\n        transferArrayItem(\r\n          event.previousContainer.data, //mão do jogador\r\n          event.container.data, //mesa\r\n          event.previousIndex, //indice origem \r\n          index //indice destino \r\n        );\r\n      }else if ((pieceFreeLeft && pieceFreeRight) && (droppedRightSide === pieceFreeRight.piece[1]) &&  (pieceFreeRight.orientation === 'left' || pieceFreeRight.orientation === '')) {\r\n        if (droppedLeftSide === droppedRightSide) {\r\n          droppedItem.rotation = 0;\r\n          droppedItem.orientation = '';\r\n          droppedItem.margin = 4;\r\n        }else {\r\n          droppedItem.rotation = 90;\r\n          droppedItem.orientation = 'right';\r\n          droppedItem.margin = 15;\r\n        }\r\n        let index = this.done.length;\r\n        transferArrayItem(\r\n          event.previousContainer.data, //mão do jogador\r\n          event.container.data, //mesa\r\n          event.previousIndex, //indice origem \r\n          index //indice destino \r\n        );\r\n      }else {\r\n        this.message = \"Não é possível jogar esta peça nesta posição.\"\r\n        this.openModal();\r\n      }\r\n\r\n    } else if (this.done.length === 0) { // Verifica se a mesa está vazia\r\n      // Deixa a peça deitada se tiver lados diferentes\r\n      if (droppedItem.piece[0] !== droppedItem.piece[1]) {\r\n        droppedItem.rotation = -90; //Left\r\n        droppedItem.orientation = 'left';\r\n        droppedItem.margin = 15;\r\n      }else {\r\n        droppedItem.rotation = 0;\r\n        droppedItem.orientation = '';\r\n        droppedItem.margin = 4;\r\n      }\r\n  \r\n      transferArrayItem(\r\n        event.previousContainer.data,\r\n        event.container.data,\r\n        event.previousIndex,\r\n        targetIndex\r\n      );\r\n    }\r\n  }\r\n  \r\n\r\n  comprarPeca() {\r\n    // Verifica se o jogador já possui alguma peça que pode ser jogada\r\n    const isFirstMove = this.done.length === 0;\r\n    const pieceFreeLeft = this.done && this.done.length > 0 ? { piece: this.done[0].piece, orientation: this.done[0].orientation } : null;\r\n    const pieceFreeRight = this.done && this.done.length > 0 ? { piece: this.done[this.done.length-1].piece, orientation:this.done[this.done.length-1].orientation } : null;\r\n    let valorDisponivelLeft = 0;\r\n    let valorDisponivelRight = 0;\r\n\r\n    if (isFirstMove) {\r\n      this.message = 'Você não pode comprar uma peça na primeira jogada. Jogue uma peça da sua mão primeiro.'\r\n      this.openModal();\r\n      return; // Sai da função sem comprar uma peça\r\n    }\r\n\r\n    if (pieceFreeLeft && pieceFreeLeft.orientation === 'left') {\r\n      valorDisponivelLeft = pieceFreeLeft.piece[0];\r\n    } else if (pieceFreeLeft && pieceFreeLeft.orientation === 'right') {\r\n      valorDisponivelLeft = pieceFreeLeft.piece[1];\r\n    }\r\n\r\n    if (pieceFreeRight && pieceFreeRight.orientation === 'left') {\r\n      valorDisponivelRight = pieceFreeRight.piece[1];\r\n    } else if (pieceFreeRight && pieceFreeRight.orientation === 'right') {\r\n      valorDisponivelRight = pieceFreeRight.piece[0];\r\n    }\r\n\r\n    // Verifica se existem peças possíveis para jogar\r\n    const hasPossiblePieces = this.player2.some(piece => {\r\n      const [left, right] = piece.piece;\r\n      return left === valorDisponivelLeft || left === valorDisponivelRight || right === valorDisponivelLeft || right === valorDisponivelRight;\r\n    });\r\n\r\n    if (hasPossiblePieces) {\r\n      this.message = 'Não é possível comprar uma peça. Existem peças possíveis para jogar.';\r\n      this.openModal();\r\n    } else {\r\n      // Compra a peça\r\n      const newPiece = this.playAreaData.pop();\r\n      if (newPiece) {\r\n        this.player2.push({ piece: newPiece, rotation: 0, margin: 8, orientation: '' });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  closeModal() {\r\n    let modal = document.getElementById(\"modal\");\r\n    if (modal) {\r\n      modal.style.display = \"none\"; // Oculta o modal\r\n    }\r\n  }\r\n\r\n  openModal() {\r\n    let modal = document.getElementById(\"modal\");\r\n    if (modal) {\r\n      modal.style.display = \"block\"; // Mostra o Modal\r\n    }\r\n  }\r\n\r\n  dragStarted(event: CdkDragStart) {\r\n    const draggedPieceId = event.source.element.nativeElement.id;\r\n    this.draggedPieceIndex = parseInt(draggedPieceId.split('_')[1]);\r\n  }\r\n\r\n  handlePiecePositioning() {\r\n    // Obtenha a largura da mesa e a posição atual de rolagem\r\n    const playArea = document.querySelector('.play-area');\r\n    const playAreaWidth = playArea?.clientWidth;\r\n    const scrollLeft = playArea?.scrollLeft;\r\n  \r\n    // Verifique a posição de cada peça na área de jogo\r\n    const pieces = document.querySelectorAll('.domino-piece');\r\n    pieces.forEach((piece: any) => {\r\n      const rect = piece.getBoundingClientRect();\r\n      const pieceLeft = rect.left - playArea!.getBoundingClientRect().left + scrollLeft!;\r\n      const pieceRight = pieceLeft + rect.width;\r\n  \r\n      // Se a peça estiver muito próxima da borda da mesa\r\n      if (pieceRight >= playAreaWidth! - 10) { // Ajuste o valor 10 conforme necessário\r\n        // Rotacione a peça verticalmente e ajuste sua posição\r\n        piece.style.transform = 'rotate(90deg)';\r\n        piece.style.position = 'relative';\r\n        piece.style.top = '-20px'; // Ajuste a posição vertical conforme necessário\r\n      } else {\r\n        // Restaure a rotação e a posição padrão da peça\r\n        piece.style.transform = 'rotate(0deg)';\r\n        piece.style.position = 'static';\r\n        piece.style.top = 'auto';\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n  <head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Jogo de Dominó</title>\r\n  </head>\r\n\r\n  <body>\r\n    <h1>Dominó Game</h1>\r\n    <div class=\"game-area\">\r\n      <!-- Área das peças do oponente -->\r\n      <div cdkDropList [cdkDropListData]=\"player1\" class=\"opponent-pieces\" (cdkDropListDropped)=\"drop($event)\" [cdkDropListConnectedTo]=\"[doneList]\" cdkDropListOrientation=\"horizontal\">\r\n        <div class=\"domino-piece\" *ngFor=\"let item of player1\" cdkDrag [cdkDragData]=\"item.piece\" (cdkDragStarted)=\"dragStarted($event)\">\r\n          <!-- Adicione a classe 'back-facing' se o jogador for o adversário -->\r\n<!--           <div class=\"top-number\">\r\n            <ng-container *ngFor=\"let dot of [].constructor(item.piece[0])\">\r\n              <div class=\"dot\"></div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"divider\"></div>\r\n          <div class=\"bottom-number\">\r\n            <ng-container *ngFor=\"let dot of [].constructor(item.piece[1])\">\r\n              <div class=\"dot\"></div>\r\n            </ng-container>\r\n          </div> -->\r\n        </div>\r\n        \r\n      </div>\r\n\r\n      <!-- Área de jogo (onde as peças serão colocadas) -->\r\n      <div cdkDropList class=\"play-area\" (cdkDropListDropped)=\"drop($event)\" [cdkDropListData]=\"done\" #doneList=\"cdkDropList\" style=\"position: relative;\" cdkDropListOrientation=\"horizontal\" >\r\n        <div class=\"domino-piece\" [id]=\"'piece_' + i\" *ngFor=\"let item of done; let i = index\"\r\n          cdkDrag [cdkDragData]=\"item.piece\" [ngStyle]=\"{'transform': 'rotate(' + item.rotation + 'deg)', 'margin': +item.margin+ 'px'}\"\r\n          [cdkDragDisabled]=\"true\">\r\n          <div class=\"top-number\">\r\n            <ng-container *ngFor=\"let dot of [].constructor(item.piece[0])\">\r\n              <div class=\"dot\"></div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"divider\" [ngClass]=\"{ 'rotate-left': item.orientation === 'left', 'rotate-right': item.orientation === 'right' }\"></div>\r\n          <div class=\"bottom-number\">\r\n            <ng-container *ngFor=\"let dot of [].constructor(item.piece[1])\">\r\n              <div class=\"dot\"></div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n        <button class=\"buy-button\" style=\"position: absolute; bottom: 0; right: 0;\" (click)=\"comprarPeca()\">Comprar Peça</button>\r\n\r\n      </div>\r\n\r\n      <!-- Área das peças do jogador -->\r\n      <div cdkDropList [cdkDropListData]=\"player2\" class=\"my-pieces\" (cdkDropListDropped)=\"drop($event)\" [cdkDropListConnectedTo]=\"[doneList]\" cdkDropListOrientation=\"horizontal\">\r\n        <div class=\"domino-piece\" *ngFor=\"let item of player2\" cdkDrag [cdkDragData]=\"item.piece\" (cdkDragStarted)=\"dragStarted($event)\">\r\n          <div class=\"top-number\">\r\n            <ng-container *ngFor=\"let dot of [].constructor(item.piece[0])\">\r\n              <div class=\"dot\"></div>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"divider\"></div>\r\n          <div class=\"bottom-number\">\r\n            <ng-container *ngFor=\"let dot of [].constructor(item.piece[1])\">\r\n              <div class=\"dot\"></div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>  \r\n    <footer>\r\n      <!-- PLACAR -->\r\n    </footer>\r\n\r\n\r\n    <!-- Modal de Mensagens -->\r\n  <div id=\"modal\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n      <span class=\"close\" (click)=\"closeModal()\">&times; </span>\r\n      <p>{{this.message}}.</p>\r\n    </div>\r\n  </div>\r\n  \r\n  </body>\r\n\r\n</html>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}